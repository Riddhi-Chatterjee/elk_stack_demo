{"ast":null,"code":"var _jsxFileName = \"/Users/riddhichatterjee/Semester7/SPE/MidTerm-Project/IMT2020094_MiniProject/calculator/src/components/Button.js\",\n  _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { CalcContext } from \"../context/calcContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getStyleName = btn => {\n  const className = {\n    '=': 'equals',\n    'x': 'opt',\n    '-': 'opt',\n    '+': 'opt',\n    '/': 'opt'\n  };\n  return className[btn];\n};\nconst Button = ({\n  value\n}) => {\n  _s();\n  const {\n    calc,\n    setCalc\n  } = useContext(CalcContext);\n  console.log(setCalc);\n\n  //User click: dot\n  const dotClick = () => {\n    setCalc({\n      ...clac,\n      num: !calc.num.toString().includes('.') ? calc.num + value : calc.num //Add a decimal point only if it's not present already\n    });\n  };\n\n  //User click: clear\n  const clearClick = () => {\n    setCalc({\n      sign: '',\n      num: 0,\n      res: 0\n    });\n  };\n\n  //User click: number\n  const handleClickNumber = () => {\n    const numberString = value.toString();\n    let numberValue;\n    if (numberString === '0' && calc.num === 0) {\n      numberValue = \"0\";\n    } else {\n      numberValue = Number(calc.num + numberString);\n    }\n    setCalc({\n      ...calc,\n      num: numberValue\n    });\n  };\n\n  //User click: operation\n  const optClick = () => {\n    setCalc({\n      sign: value,\n      res: !calc.res && calc.num ? calc.num : calc.res,\n      num: 0\n    });\n  };\n\n  //User click: equals\n  const equalsClick = () => {\n    if (calc.res && calc.num) {\n      const math = (a, b, sign) => {\n        const result = {\n          '+': (a, b) => a + b,\n          '-': (a, b) => a - b,\n          '/': (a, b) => a / b,\n          'x': (a, b) => a * b\n        };\n        return result[sign](a, b);\n      };\n      setCalc({\n        res: math(calc.res, calc.num, calc.sign),\n        sign: '',\n        num: 0\n      });\n    }\n  };\n\n  //User click: percentage\n  const percentageClick = () => {\n    setCalc({\n      num: calc.num / 100,\n      res: calc.res / 100,\n      sign: ''\n    });\n  };\n\n  //User click: invert sign\n  const invertClick = () => {\n    setCalc({\n      num: calc.num ? calc.num * -1 : 0,\n      res: calc.res ? calc.res * -1 : 0,\n      sign: ''\n    });\n  };\n  const handleBtnClick = () => {\n    console.log(value);\n    const results = {\n      '.': dotClick,\n      'C': clearClick,\n      '/': optClick,\n      'x': optClick,\n      '-': optClick,\n      '+': optClick,\n      '=': equalsClick,\n      '%': percentageClick,\n      '+-': invertClick\n    };\n    if (results[value]) {\n      return results[value]();\n    } else {\n      return handleClickNumber();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: handleBtnClick,\n    className: `${getStyleName(value)} button`,\n    children: value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n};\n_s(Button, \"AR3575MiczW/cuePPvuL4FAGKl8=\");\n_c = Button;\nexport default Button;\nvar _c;\n$RefreshReg$(_c, \"Button\");","map":{"version":3,"names":["useContext","CalcContext","jsxDEV","_jsxDEV","getStyleName","btn","className","Button","value","_s","calc","setCalc","console","log","dotClick","clac","num","toString","includes","clearClick","sign","res","handleClickNumber","numberString","numberValue","Number","optClick","equalsClick","math","a","b","result","+","-","/","x","percentageClick","invertClick","handleBtnClick","results","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/riddhichatterjee/Semester7/SPE/MidTerm-Project/IMT2020094_MiniProject/calculator/src/components/Button.js"],"sourcesContent":["import { useContext } from \"react\"\nimport { CalcContext } from \"../context/calcContext\"\n\nconst getStyleName = btn => {\n    const className = {\n        '=': 'equals',\n        'x': 'opt',\n        '-': 'opt',\n        '+': 'opt',\n        '/': 'opt'\n    }\n    return className[btn]\n}\n\nconst Button = ({ value }) => {\n    const { calc, setCalc } = useContext(CalcContext)\n    console.log(setCalc);\n\n\n    //User click: dot\n    const dotClick = () => {\n        setCalc({\n            ...clac,\n            num: !calc.num.toString().includes('.') ? calc.num + value : calc.num //Add a decimal point only if it's not present already\n        })\n    }\n\n    //User click: clear\n    const clearClick = () => {\n        setCalc({ sign: '', num: 0, res: 0 })\n    }\n\n    //User click: number\n    const handleClickNumber = () => {\n        const numberString = value.toString()\n\n        let numberValue;\n        if(numberString === '0' && calc.num === 0) {\n            numberValue = \"0\"\n        } else {\n            numberValue = Number(calc.num + numberString)\n        }\n\n        setCalc({\n            ...calc,\n            num: numberValue\n        })\n    }\n\n    //User click: operation\n    const optClick = () => {\n        setCalc({\n            sign: value,\n            res: !calc.res && calc.num ? calc.num : calc.res,\n            num: 0\n        })\n    }\n    \n    //User click: equals\n    const equalsClick = () => {\n        if(calc.res && calc.num) {\n            const math = (a, b, sign) => {\n                const result = {\n                    '+': (a, b) => a + b,\n                    '-': (a, b) => a - b,\n                    '/': (a, b) => a / b,\n                    'x': (a, b) => a * b\n                }\n                return result[sign](a, b);\n            }\n            setCalc({\n                res: math(calc.res, calc.num, calc.sign),\n                sign: '',\n                num: 0\n            })\n        }\n    }\n\n    //User click: percentage\n    const percentageClick = () => {\n        setCalc({\n            num: (calc.num/100),\n            res: (calc.res/100),\n            sign: ''\n        })\n    }\n\n    //User click: invert sign\n    const invertClick = () => {\n        setCalc({\n            num: calc.num ? calc.num * -1 : 0,\n            res: calc.res ? calc.res * -1 : 0,\n            sign: ''\n        })\n    }\n\n    const handleBtnClick = () => {\n        console.log(value);\n\n        const results = {\n            '.': dotClick,\n            'C': clearClick,\n            '/': optClick,\n            'x': optClick,\n            '-': optClick,\n            '+': optClick,\n            '=': equalsClick,\n            '%': percentageClick,\n            '+-': invertClick\n        }\n        if(results[value]) {\n            return results[value]()\n        } else {\n            return handleClickNumber()\n        }\n    }\n\n    return (\n        <button onClick={handleBtnClick} className={`${getStyleName(value)} button`}>{value}</button>\n    )\n}\nexport default Button"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}